!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t){e.exports=React},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(0),r=o(2),s=o(3);r.render(n.createElement(s.default,{width:1e3,height:500,rowCount:1e3,rowHeight:40,columnCount:1e3,columnWidth:100,overscanCount:10,cellRenderer:({rowIndex:e,columnIndex:t,style:o})=>n.createElement("div",{style:o,key:`${e}:${t}`},e," - ",t)}),document.getElementById("app"))},function(e,t){e.exports=ReactDOM},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(0),r=o(4),s=o(5),l=o(6),i=o(8),a=o(9),c=({width:e,height:t,rowCount:o,rowHeight:n,rowManager:r,columnCount:s,columnWidth:l,columnManager:i,overscanCount:a,overscanRowCount:c,overscanColumnCount:u,scrollToRow:h,scrollToColumn:g,scrollLeft:d,scrollTop:f})=>({width:e,height:t,rowCount:o,rowHeight:n,rowManager:r,columnCount:s,columnWidth:l,columnManager:i,overscanCount:a,overscanRowCount:c,overscanColumnCount:u,scrollToRow:h,scrollToColumn:g,scrollLeft:d,scrollTop:f});t.default=class extends n.PureComponent{constructor(e){super(e),this.onScroll=e=>{const{scrollTop:t,scrollLeft:o}=e.currentTarget;if(this.props.onScroll)this.props.onScroll({scrollTop:t,scrollLeft:o});else{const{width:e,height:n}=this.props,{renderRangesManager:r,rowManager:s,columnManager:l,overscanRowCount:i,overscanColumnCount:a}=this.state;this.setState({scrollTop:t,scrollLeft:o,rowsRange:r.getRowsRange({rowManager:s,scrollTop:t,height:n,overscanRowCount:i}),columnsRange:r.getColumnsRange({columnManager:l,scrollLeft:o,width:e,overscanColumnCount:a})})}},this.getStyle=(e,t)=>({position:"absolute",top:`${this.state.rowManager.getPixelByIndex(e)}px`,left:`${this.state.columnManager.getPixelByIndex(t)}px`,height:`${this.state.rowManager.getSize(e)}px`,width:`${this.state.columnManager.getSize(t)}px`});const{width:t,height:o,rowCount:n,rowHeight:r,rowManager:s=new l.default({count:n,size:r}),columnCount:a,columnWidth:u,columnManager:h=new l.default({count:a,size:u}),overscanCount:g=0,overscanRowCount:d=g,overscanColumnCount:f=g,scrollToRow:p,scrollToColumn:m}=e;let{scrollLeft:w=0,scrollTop:C=0}=e;void 0!==p&&(C=s.getPixelByIndex(p)),void 0!==m&&(w=h.getPixelByIndex(m));const v=new i.default;this.state={prevProps:c(e),renderRangesManager:v,rowManager:s,columnManager:h,overscanRowCount:d,overscanColumnCount:f,scrollLeft:w,scrollTop:C,rowsRange:v.getRowsRange({rowManager:s,scrollTop:C,height:o,overscanRowCount:d}),columnsRange:v.getColumnsRange({columnManager:h,scrollLeft:w,width:t,overscanColumnCount:f})}}static getDerivedStateFromProps(e,t){if(!function(e,t){return Object.keys(t).some(o=>e[o]!==t[o])}(e,t.prevProps))return null;const o={prevProps:c(e)};let n=e.rowManager;n||e.rowHeight===t.prevProps.rowHeight&&e.rowCount===t.prevProps.rowCount?n||(n=t.rowManager):n=new l.default({count:e.rowCount,size:e.rowHeight});const r=t.rowManager!==n;r&&(o.rowManager=n);let s=e.columnManager;t.prevProps.columnManager,s||e.columnWidth===t.prevProps.columnWidth&&e.columnCount===t.prevProps.columnCount?s||(s=t.columnManager):s=new l.default({count:e.columnCount,size:e.columnWidth});const i=t.columnManager!==s;i&&(o.columnManager=s);let a=(void 0===e.scrollTop?t.scrollTop:e.scrollTop)||0;if(e.scrollToRow!==t.prevProps.scrollToRow&&void 0!==e.scrollToRow&&(a=n.getPixelByIndex(e.scrollToRow)),t.scrollTop!==a&&(o.scrollTop=a),t.scrollTop!==a||r||e.height!==t.prevProps.height){const r=e.overscanRowCount||e.overscanCount||0,s=t.renderRangesManager.getRowsRange({rowManager:n,scrollTop:a,height:e.height,overscanRowCount:r});s!==t.rowsRange&&(o.rowsRange=s),r!==t.overscanRowCount&&(o.overscanRowCount=r)}let u=(void 0===e.scrollLeft?t.scrollLeft:e.scrollLeft)||0;if(e.scrollToColumn!==t.prevProps.scrollToColumn&&void 0!==e.scrollToColumn&&(u=s.getPixelByIndex(e.scrollToColumn)),t.scrollLeft!==u&&(o.scrollLeft=u),t.scrollLeft!==u||i||e.width!==t.prevProps.width){const n=e.overscanColumnCount||e.overscanCount||0,r=t.renderRangesManager.getColumnsRange({columnManager:s,scrollLeft:u,width:e.width,overscanColumnCount:n});r!==t.columnsRange&&(o.columnsRange=r),t.overscanColumnCount!==n&&(o.overscanColumnCount=n)}return o}componentDidMount(){const{onScroll:e}=this.props,{scrollLeft:t,scrollTop:o}=this.state;!e||this.props.scrollLeft===t&&this.props.scrollTop===o||e({scrollLeft:t,scrollTop:o})}render(){const{ScrollComponent:e=s.default,height:t,width:o,children:l,enableBackgroundLines:i=!1,enableBackgroundVerticalLines:c=i,enableBackgroundHorizontalLines:u=i,cellRenderer:h,cellRangeRenderer:g}=this.props,{scrollLeft:d,scrollTop:f,rowManager:p,columnManager:m,rowsRange:w,columnsRange:C}=this.state,v=h&&a.permutations(a.range(w.start,w.end),a.range(C.start,C.end)).map(([e,t],o,n)=>h({rowManager:p,columnManager:m,rowIndex:e,columnIndex:t,style:this.getStyle(e,t)})),R=g&&g({rowManager:p,columnManager:m,startRowIndex:w.start,endRowIndex:w.end,startColumnIndex:C.start,endColumnIndex:C.end});return n.createElement(e,{width:o,height:t,onScroll:this.onScroll,scrollLeft:d,scrollTop:f,rowManager:p,columnManager:m,fullHeight:p.fullSize,fullWidth:m.fullSize},(c||u)&&n.createElement(r.default,{enableBackgroundVerticalLines:c,enableBackgroundHorizontalLines:u,rowManager:p,columnManager:m,rowsRange:w,columnsRange:C}),v,R,l)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(0);t.default=class extends n.PureComponent{render(){return n.createElement("div",null)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(0);t.default=class extends n.PureComponent{constructor(){super(...arguments),this.ref=n.createRef(),this.setPosition=()=>{const{scrollTop:e,scrollLeft:t}=this.props;this.ref.current.scrollTop=e,this.ref.current.scrollLeft=t}}componentDidMount(){this.setPosition()}componentDidUpdate(e){this.setPosition()}render(){const{width:e,height:t,onScroll:o,children:r,fullWidth:s,fullHeight:l}=this.props;return n.createElement("div",{ref:this.ref,style:{height:`${t}px`,width:`${e}px`,overflow:"auto"},onScroll:o},n.createElement("div",{style:{height:`${l}px`,width:`${s}px`,position:"relative"}},r))}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(7);t.default=class{constructor({count:e,size:t}){this._count=e,this.size=t,"number"==typeof t?this._fullSize=e*t:(this.sizeCache=new Map,this.pixelCache=new Map,this.indexCache=new n.default)}get count(){return this._count}get fullSize(){if(void 0===this._fullSize){this._fullSize=0;for(let e=0;e<this.count;e++)this._fullSize+=this.getSize(e)}return this._fullSize}getIndex(e){if(0===this.count)throw new Error("Can't get index");return e<0?(console.warn("Index is less then 0",e),0):e>=this.count?(console.warn("Index is greater or equals count",e),this.count-1):e}getSize(e){const t=this.getIndex(e);return"number"==typeof this.size?this.size:(this.sizeCache.has(t)||this.sizeCache.set(t,this.size(t)),this.sizeCache.get(t))}getPixelByIndex(e){const t=this.getIndex(e);if("number"==typeof this.size)return t*this.size;if(!this.pixelCache.has(t)){const o=0===t?0:this.getPixelByIndex(e-1);this.pixelCache.set(t,o)}return this.pixelCache.get(t)}getIndexByPixel(e){let t;if(e>this.fullSize)return this.count-1;if("number"==typeof this.size)t=Math.floor(e/this.size);else{if(!this.indexCache.has(e)){const t=e/this.fullSize;let o=(this.count-1)*t;for(;;){const t=this.getPixelByIndex(o),n=t+this.getSize(o);if(this.indexCache.set({start:t,end:n,value:o}),e<t)o--;else{if(!(e>n))break;o++}}}const{value:o}=this.indexCache.get(e);t=o}return this.getIndex(t)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor({start:e,end:t,value:o}){this.start=e,this.end=t,this.value=o}get leftHeight(){return this.left?this.left.height:0}get rightHeight(){return this.left?this.left.height:0}get height(){return Math.max(this.leftHeight,this.rightHeight)+1}rotateRight(){const e=this.left;return this.left=this.left.right,e.right=this,e}rotateLeft(){const e=this.right;return this.right=this.right.left,e.left=this,e}balanceTree(){return Math.abs(this.leftHeight-this.rightHeight)>1?this.leftHeight>this.rightHeight?this.rotateRight():this.rotateLeft():this}add(e){const{start:t,end:o,value:r}=e;if(this.start>o)this.left?this.left.add(e):this.left=new n(e);else if(this.end<t)this.right?this.right.add(e):this.right=new n(e);else if(this.start!==t||this.end!==o||this.value!==r)throw new Error("Collision");return this.balanceTree()}get(e){return this.start>e?this.left?this.left.get(e):null:this.end<e?this.right?this.right.get(e):null:this}}t.TreeNode=n;t.default=class{set(e){this.treeNode?this.treeNode=this.treeNode.add(e):this.treeNode=new n(e)}get(e){return this.treeNode?this.treeNode.get(e):null}has(e){return null!==this.get(e)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{getRowsRange({rowManager:e,scrollTop:t,height:o,overscanRowCount:n}){const r=Math.max(e.getIndexByPixel(t)-n,0),s=Math.min(e.getIndexByPixel(t+o)+n,e.count);return this.rowsRange&&this.rowsRange.start===r&&this.rowsRange.end===s||(this.rowsRange={start:r,end:s}),this.rowsRange}getColumnsRange({columnManager:e,scrollLeft:t,width:o,overscanColumnCount:n}){const r=Math.max(e.getIndexByPixel(t)-n,0),s=Math.min(e.getIndexByPixel(t+o)+n,e.count);return this.columnsRange&&this.columnsRange.start===r&&this.columnsRange.end===s||(this.columnsRange={start:r,end:s}),this.columnsRange}getRowsAndColumnsRange(e){return{rows:this.getRowsRange(e),columns:this.getColumnsRange(e)}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.permutations=(e,...o)=>o.length?t.permutations(o[0],...o.slice(1)).reduce((t,o)=>{for(let n of e){const e=[n];for(let n of o)t.push(e.concat(n))}return t},[]):e.map(e=>[e]),t.range=(e,t)=>{const o=[];for(let n=e;n<=t;n++)o.push(n);return o}}]);
//# sourceMappingURL=App.js.map